<script setup>
  import { clsx, dp, hsl, Var } from "./shared/css.js"
  const styles = ({ filled, tonal }) => ({
    display: "inline-flex",
    alignItems: "center",
    gap: dp(8),
    paddingLeft: dp(12),
    paddingRight: dp(12),
    height: dp(40),
    minWidth: dp(48),
    fontSize: "1rem",
    fontWeight: 500,
    lineHeight: 1.5,
    color: hsl(Var('color-primary'), '40%'),
    textAlign: "center",
    textDecoration: "none",
    verticalAlign: "middle",
    cursor: "pointer",
    userSelect: "none",
    border: "0",
    ...(border?{border:'1px solid gray'}:{}),
    borderRadius: dp(20),
    backgroundColor: "transparent",
    transition:
      "color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out",
    ":hover": { backgroundColor: hsl(Var('color-primary'), '92%') },
    ":focus": { backgroundColor: hsl(Var('color-primary'), '88%') },
    ":active": { backgroundColor: hsl(Var('color-primary'), '84%') },
    "& ": { marginLeft: "0.5rem" },
    ...(tonal ? {
      backgroundColor: hsl(Var('color-primary'), '90%'),
      color: hsl(Var('color-primary'), '1%'),
      ":hover": { backgroundColor: hsl(Var('color-primary'), '82%') },
      ":focus": { backgroundColor: hsl(Var('color-primary'), '78%') },
      ":active": { backgroundColor: hsl(Var('color-primary'), '74%') },
    } : {}),
    ...(filled ? {
      backgroundColor: hsl(Var('color-primary'), '40%'),
      color: hsl(Var('color-primary'), '99%'),
      ":hover": { backgroundColor: hsl(Var('color-primary'), '48%') },
      ":focus": { backgroundColor: hsl(Var('color-primary'), '52%') },
      ":active": { backgroundColor: hsl(Var('color-primary'), '56%') },
    } : {})
  })
</script>
<script>
  import { useFela, extract } from "./Fela.html"
  const { is: Is = 'button', filled, tonal, border, round, ...props } = $.props;
  const { css } = useFela($, { filled, tonal })
  props.class = clsx(props.class, css(styles))
</script>
<Is {...props}>
  <slot />
</Is>